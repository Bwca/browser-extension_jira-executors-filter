"use strict";function l(s){if(!s.length){ return[]; }var e=new Set(s.map(function (t){ return t.dataset.tooltip; }));return Array.from(e).map(function (t){var o=s.find(function (i){ return i.dataset.tooltip===t; });return{executor:t,avatar:o.src}})}var n=/*@__PURE__*/(function () {
	function n () {}

	var prototypeAccessors = { quickFiltersTrigger: { configurable: true },filterContainer: { configurable: true },executionerFilterButtons: { configurable: true },allIssues: { configurable: true } };

	n.prototype.createExecutorStyle = function createExecutorStyle (){var e=document.createElement("style");e.innerHTML=".executor-filter.is-currently-selected { border: 5px solid limegreen !important; } .executor-filter {border: 5px solid white !important; cursor: pointer}",document.getElementsByTagName("head")[0].appendChild(e)};n.prototype.resetExecutorFilters = function resetExecutorFilters (){var e=document.querySelector(".ghx-avatar-img.executor-filter.is-currently-selected");this.clearExecutorFilters();var r=l(this.getExecutionersAvatarElements());if(this.appendExecutorFiltersToPage(r),e){var t=document.getElementById(e.id);t&&t.click()}};n.prototype.getExecutionersAvatarElements = function getExecutionersAvatarElements (){return Array.from(document.querySelectorAll(".ghx-avatar-img"))};n.prototype.showAllIssues = function showAllIssues (){this.allIssues.forEach(function (e){ return e.style.display=""; })};n.prototype.showIssuesOnlyForExecutor = function showIssuesOnlyForExecutor (e){this.allIssues.forEach(function (r){var t=r.querySelector(("[data-tooltip=\"" + (e.executor) + "\"]"));r.style.display=t?"":"none"})};n.prototype.appendExecutorFiltersToPage = function appendExecutorFiltersToPage (e){
var this$1 = this;
var r=this.filterContainer;e.forEach(function (t){var o=this$1.createExecutorIcon(t);r.appendChild(o)}),this.setExpandFiltersButtonVisible()};n.prototype.setExpandFiltersButtonVisible = function setExpandFiltersButtonVisible (){var e=this.quickFiltersTrigger;e.style.display="",e.style.position="relative"};n.prototype.clearExecutorFilters = function clearExecutorFilters (){var e=this.filterContainer;Array.from(e.querySelectorAll("dd")).filter(function (r){ return !!r.querySelector("img.executor-filter"); }).forEach(function (r){ return r.remove(); })};n.prototype.createExecutorIcon = function createExecutorIcon (e){
var this$1 = this;
var r=document.createElement("dd"),t=document.createElement("img");return t.src=e.avatar,t.id=e.avatar,t.classList.add("ghx-avatar-img"),t.classList.add("executor-filter"),t.title=e.executor.replace(/^Исполнитель: /,""),t.onclick=function (){var o=t.classList.contains("is-currently-selected");this$1.executionerFilterButtons.forEach(function (i){ return i.classList.remove("is-currently-selected"); }),o?c.showAllIssues():(c.showIssuesOnlyForExecutor(e),t.classList.add("is-currently-selected"))},r.appendChild(t),r};prototypeAccessors.quickFiltersTrigger.get = function (){return document.querySelector("dd.ghx-quickfilter-trigger")};prototypeAccessors.filterContainer.get = function (){return document.getElementById("js-work-quickfilters")};prototypeAccessors.executionerFilterButtons.get = function (){return Array.from(document.querySelectorAll("img.executor-filter"))};prototypeAccessors.allIssues.get = function (){return Array.from(document.querySelectorAll(".js-issue,.ghx-parent-group.ghx-away.js-fake-parent"))};

	Object.defineProperties( n.prototype, prototypeAccessors );

	return n;
}()),c=new n;function a(){c.createExecutorStyle();var s=document.getElementById("ghx-work"),e={attributes:!1,childList:!0,subtree:!0},r=function (o){ return o.forEach(function (i){i.type==="childList"&&i.addedNodes.length&&c.resetExecutorFilters()}); };new MutationObserver(r).observe(s,e)}(function(){a()})();
